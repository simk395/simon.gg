<img src="/summoners-rift.jpg" class="summoner-bg"/>

<div class="container">
    <div class="profile-inner">
    <p class="summoner-name"><%= @summoner.summoner_name %></p>
    <img src="http://avatar.leagueoflegends.com/na/<%= @summoner.summoner_name %>.png" class="summoner-icon" alt="">
    </div>
</div>

<% num = 0 %>
<% person = 0 %>
<% @stats_arr = []%>

<% num = 0 %>
<% 10.times do |i| %>
      <% players_hash = {} %>
    <% @matches[num]["participantIdentities"].each do |player|  %>
      <% if @summoner.summoner_name.downcase == player["player"]["summonerName"].downcase %>
        <% person = player["participantId"]-1%>
      <% end %>  <!--if-->
    <% end %><!--select-->
      <% if @matches[num]["teams"][0]["win"] == "Win" && person <= 4 %>
        <% players_hash["W/L"] = "Won" %>
      <% else %>
        <% players_hash["W/L"] = "Lost" %>
      <% end %><!--if-->
    <% player_info = @matches[num]["participants"][person] %>
    <% stats = player_info["stats"] %>
    <% players_hash["kills"] = stats["kills"] %>
    <% players_hash["deaths"] = stats["deaths"] %>
    <% players_hash["assists"] = stats["assists"] %>
    <% players_hash["championID"] = @matches[num]["participants"][person]["championId"] %>
    <% players_hash["rank"] = @matches[num]["participants"][person]["highestAchievedSeasonTier"] %>
    <% players_hash["matchTime"] = @matches[num]["gameDuration"]/60 %>
    <% @stats_arr << players_hash %>
    <%= players_hash %>
<% num = num + 1 %>
<% end %><!--times-->

<% def champs %>
  <% character=[] %>
  <% @stats_arr.each do |champions|%>
    <% @summoner.champions.each do |keys|%>
        <% if keys.include?(champions["championID"].to_s) %>
          <% character << keys[1] %>
        <% end%>
      <% end%>
    <%end %>
    <% character %>
<% end%>

<% def victory_or_loss(num) %>
<% if @stats_arr[num]["W/L"] == "Won"%>
  <p class="condition-win"><%= "Victory" %>
<% else %>
  <p class="condition-lose"><%= "Defeat" %>
  <% end%>
<% end %>

<% def details(num)%>
    <img class="champ-icon" src="/images/champion_icons/<%= champs[num] %>.png" alt="">
    <p class="condition"><%=victory_or_loss(num)%></p>
    <p class="time"><%= @stats_arr[num]["matchTime"] %> mins</p>
    <% form_for @game do |f| %>
      <% f.hidden_field :game, value: "#{@matches[num]["gameId"]}" %>
      <% f.submit "Details", class: "check-game" %>
    <% end %>
  <% end%>

<div class="container-2">
    <div class="game-inner">
      <%= details(0) %>
    </div>

    <div class="game-inner">
    <%= details(1) %>    
    </div>

    <div class="game-inner">
    <%= details(2) %>
    </div>

    <div class="game-inner">
    <%= details(3) %>
    </div>

    <div class="game-inner">
    <%= details(4) %>
    </div>

    <div class="game-inner">
    <%= details(5) %>
    </div>

    <div class="game-inner">
    <%= details(6) %>
    </div>

    <div class="game-inner">
    <%= details(7) %>
    </div>

    <div class="game-inner">
    <%= details(8) %>
    </div>

    <div class="game-inner">
    <%= details(9) %>
    </div>


<!-- delete-->
<%= form_tag(summoner_path(@summoner), method: :delete) do %>
  <%= submit_tag "DELETE THIS account" %>
<% end %>


<!-- Display a card with basic profile information like rank and win/loss and top 3 champions -->

<!-- Display last 10 games with basic info on the games -->
